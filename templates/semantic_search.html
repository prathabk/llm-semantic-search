<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semantic Search Pipeline - Semantic Search Course</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/carousel.css') }}">
    <style>
        .title-slide {
            text-align: center;
            padding: 80px 20px;
        }

        .title-slide h1 {
            font-size: 3em;
            margin-bottom: 16px;
        }

        .title-slide .subtitle {
            font-size: 1.5em;
            color: var(--text-secondary);
            margin-bottom: 40px;
        }

        .title-slide .course-info {
            max-width: 700px;
            margin: 0 auto;
            font-size: 1.125em;
            line-height: 1.8;
        }

        .pipeline-step {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border: 2px solid var(--primary);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
        }

        .pipeline-step h3 {
            color: var(--primary);
            margin-top: 0;
            font-size: 1.5em;
        }

        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.875em;
            line-height: 1.6;
            margin: 16px 0;
            overflow-x: auto;
        }

        .code-example .keyword {
            color: #c792ea;
        }

        .code-example .string {
            color: #c3e88d;
        }

        .code-example .comment {
            color: #676e95;
        }

        .flow-diagram {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 32px;
            margin: 24px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 16px;
            background: var(--bg);
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }

        .flow-step-number {
            background: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.25em;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .flow-step-content {
            flex: 1;
        }

        .flow-step-title {
            font-weight: 600;
            font-size: 1.125em;
            color: var(--text);
            margin-bottom: 4px;
        }

        .flow-step-desc {
            color: var(--text-secondary);
            font-size: 0.9375em;
        }

        .flow-arrow {
            text-align: center;
            font-size: 2em;
            color: var(--primary);
            margin: 8px 0;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 24px 0;
        }

        .comparison-card {
            padding: 20px;
            border-radius: 8px;
            border: 2px solid var(--border);
        }

        .comparison-card.traditional {
            background: #fef2f2;
            border-color: #ef4444;
        }

        .comparison-card.semantic {
            background: #f0fdf4;
            border-color: #10b981;
        }

        .comparison-card h4 {
            margin-top: 0;
            font-size: 1.25em;
        }

        .comparison-card.traditional h4 {
            color: #991b1b;
        }

        .comparison-card.semantic h4 {
            color: #065f46;
        }

        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin: 24px 0;
        }

        .tech-card {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: all 0.2s;
        }

        .tech-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow);
        }

        .tech-icon {
            font-size: 3em;
            margin-bottom: 12px;
        }

        .tech-name {
            font-weight: 600;
            font-size: 1.125em;
            color: var(--text);
            margin-bottom: 8px;
        }

        .tech-desc {
            font-size: 0.875em;
            color: var(--text-secondary);
        }

        .highlight-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 16px 20px;
            border-radius: 4px;
            margin: 20px 0;
        }

        .highlight-box strong {
            color: #92400e;
        }

        ul.feature-list {
            list-style: none;
            padding-left: 0;
        }

        ul.feature-list li {
            padding: 12px 0;
            padding-left: 32px;
            position: relative;
        }

        ul.feature-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: 700;
            font-size: 1.25em;
        }

        /* JSON Tree Viewer Styles */
        .json-tree {
            background: #ffffff;
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.875em;
            max-height: 400px;
            overflow-y: auto;
        }

        .json-tree ul {
            list-style: none;
            padding-left: 24px;
            margin: 4px 0;
        }

        .json-tree > ul {
            padding-left: 0;
        }

        .json-tree li {
            margin: 4px 0;
            position: relative;
        }

        .json-key {
            color: #0066cc;
            font-weight: 600;
        }

        .json-string {
            color: #22863a;
        }

        .json-number {
            color: #005cc5;
        }

        .json-boolean {
            color: #d73a49;
        }

        .json-null {
            color: #6f42c1;
        }

        .json-toggle {
            cursor: pointer;
            user-select: none;
            display: inline-block;
            width: 16px;
            color: #6a737d;
            font-weight: bold;
        }

        .json-toggle:hover {
            color: var(--primary);
        }

        .json-collapsed > ul {
            display: none;
        }

        .json-bracket {
            color: #6a737d;
            font-weight: bold;
        }

        .json-item-count {
            color: #6a737d;
            font-size: 0.9em;
            margin-left: 6px;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="/" class="home-link">‚Üê Back to Home</a>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="carousel-container">
            <div class="carousel-wrapper" id="carouselWrapper">

                <!-- Slide 1: Title -->
                <div class="slide">
                    <div class="slide-content title-slide">
                        <h1>üîç Semantic Search Pipeline</h1>
                        <p class="subtitle">Building Intelligent Search with LLMs</p>
                        <div class="course-info">
                            <p>Learn how to build a complete semantic search system that understands meaning, not just keywords. From unstructured text to intelligent answers.</p>
                            <p style="margin-top: 24px; color: var(--text-secondary);">
                                Use arrow keys or buttons below to navigate through the implementation steps
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Slide 2: What is Semantic Search? -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>What is Semantic Search?</h2>
                            <p class="slide-subtitle">Understanding vs Matching</p>
                        </div>

                        <p>Semantic search understands the <strong>meaning and intent</strong> behind queries, not just keyword matching.</p>

                        <div class="comparison-grid">
                            <div class="comparison-card traditional">
                                <h4>‚ùå Traditional Search</h4>
                                <ul style="padding-left: 20px; margin: 12px 0;">
                                    <li>Exact keyword matching</li>
                                    <li>Boolean operators (AND, OR)</li>
                                    <li>Misses synonyms</li>
                                    <li>No context understanding</li>
                                </ul>
                                <div style="margin-top: 16px; padding: 12px; background: white; border-radius: 6px;">
                                    <strong>Query:</strong> "red color"<br>
                                    <strong>Finds:</strong> Only exact "red color"
                                </div>
                            </div>

                            <div class="comparison-card semantic">
                                <h4>‚úì Semantic Search</h4>
                                <ul style="padding-left: 20px; margin: 12px 0;">
                                    <li>Understands meaning</li>
                                    <li>Natural language queries</li>
                                    <li>Handles synonyms</li>
                                    <li>Context-aware</li>
                                </ul>
                                <div style="margin-top: 16px; padding: 12px; background: white; border-radius: 6px;">
                                    <strong>Query:</strong> "who likes red?"<br>
                                    <strong>Finds:</strong> People with red preferences
                                </div>
                            </div>
                        </div>

                        <div class="highlight-box">
                            <strong>Key Insight:</strong> Semantic search transforms natural language into structured queries that understand relationships and context.
                        </div>
                    </div>
                </div>

                <!-- Slide 3: The Challenge -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>The Challenge</h2>
                            <p class="slide-subtitle">From Chaos to Understanding</p>
                        </div>

                        <p>Real-world data is often <strong>unstructured and messy</strong>:</p>

                        <div class="example-box">
                            <h3>Example: Unstructured Text</h3>
                            <div class="code-example">
Ravi is a boy. He likes blue color and sambar rice.
He like red color and his name is Shantanu, but he always eats dhal rice.
Revathy is a girl. She likes red color and chicken bryani.
Himanshu is a boy. He likes green color and roti and dhal.
                            </div>
                        </div>

                        <p style="margin-top: 24px;"><strong>Problems:</strong></p>
                        <ul class="feature-list" style="margin-top: 12px;">
                            <li>No consistent structure</li>
                            <li>Mixed information in single sentences</li>
                            <li>Difficult to query systematically</li>
                            <li>Hard to extract specific attributes</li>
                        </ul>

                        <div class="highlight-box" style="margin-top: 24px;">
                            <strong>Solution:</strong> Use LLMs to structure the data + Vector database for intelligent search + LLMs for natural language answers
                        </div>
                    </div>
                </div>

                <!-- Slide 4: Pipeline Overview -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>The 6-Step Pipeline</h2>
                            <p class="slide-subtitle">End-to-End Architecture</p>
                        </div>

                        <div class="flow-diagram">
                            <div class="flow-step">
                                <div class="flow-step-number">1</div>
                                <div class="flow-step-content">
                                    <div class="flow-step-title">üìù Unstructured Input</div>
                                    <div class="flow-step-desc">Raw text data from users</div>
                                </div>
                            </div>
                            <div class="flow-arrow">‚Üì</div>

                            <div class="flow-step">
                                <div class="flow-step-number">2</div>
                                <div class="flow-step-content">
                                    <div class="flow-step-title">ü§ñ LLM Structuring</div>
                                    <div class="flow-step-desc">Extract structured JSON using Gemma models</div>
                                </div>
                            </div>
                            <div class="flow-arrow">‚Üì</div>

                            <div class="flow-step">
                                <div class="flow-step-number">3</div>
                                <div class="flow-step-content">
                                    <div class="flow-step-title">üíæ Store in Typesense</div>
                                    <div class="flow-step-desc">Index documents with metadata</div>
                                </div>
                            </div>
                            <div class="flow-arrow">‚Üì</div>

                            <div class="flow-step">
                                <div class="flow-step-number">4</div>
                                <div class="flow-step-content">
                                    <div class="flow-step-title">üîç Query Translation</div>
                                    <div class="flow-step-desc">Natural language ‚Üí Typesense filters</div>
                                </div>
                            </div>
                            <div class="flow-arrow">‚Üì</div>

                            <div class="flow-step">
                                <div class="flow-step-number">5</div>
                                <div class="flow-step-content">
                                    <div class="flow-step-title">‚ö° Hybrid Search</div>
                                    <div class="flow-step-desc">Combine text matching + filtering</div>
                                </div>
                            </div>
                            <div class="flow-arrow">‚Üì</div>

                            <div class="flow-step">
                                <div class="flow-step-number">6</div>
                                <div class="flow-step-content">
                                    <div class="flow-step-title">üí¨ Answer Generation</div>
                                    <div class="flow-step-desc">LLM creates natural language response</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 5: Step 1 & 2 - LLM Structuring -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>Step 1 & 2: Structure with LLM</h2>
                            <p class="slide-subtitle">From Text to JSON</p>
                        </div>

                        <p>Use <strong>Ollama with Gemma models</strong> to extract structured data from unstructured text.</p>

                        <div class="pipeline-step">
                            <h3>Input (Unstructured)</h3>
                            <div class="code-example">
"Ravi is a boy. He likes blue color and sambar rice."
                            </div>
                        </div>

                        <div style="text-align: center; font-size: 2em; color: var(--primary); margin: 16px 0;">
                            ‚Üì LLM Processing (Gemma 3:1B) ‚Üì
                        </div>

                        <div class="pipeline-step">
                            <h3>Output (Structured JSON)</h3>
                            <div class="json-tree" id="structuredJsonExample"></div>
                        </div>

                        <div class="highlight-box">
                            <strong>Why?</strong> Structured data enables filtering, querying, and precise search operations.
                        </div>
                    </div>
                </div>

                <!-- Slide 6: Step 3 - Store in Typesense -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>Step 3: Store in Typesense</h2>
                            <p class="slide-subtitle">Vector Database Setup</p>
                        </div>

                        <p><strong>Typesense</strong> is a fast, typo-tolerant search engine that supports hybrid search.</p>

                        <div class="example-box">
                            <h3>Collection Schema</h3>
                            <div class="json-tree" id="schemaExample"></div>
                        </div>

                        <p style="margin-top: 24px;"><strong>Key Features:</strong></p>
                        <ul class="feature-list">
                            <li><strong>Facets</strong> - Enable filtering by gender, color, food</li>
                            <li><strong>Text Search</strong> - Full-text search on any field</li>
                            <li><strong>Fast Indexing</strong> - Millisecond query times</li>
                            <li><strong>Hybrid Search</strong> - Combine filters + text matching</li>
                        </ul>
                    </div>
                </div>

                <!-- Slide 7: Step 4 - Query Translation -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>Step 4: Query Translation</h2>
                            <p class="slide-subtitle">Natural Language ‚Üí Filters</p>
                        </div>

                        <p>Use LLM to translate natural language queries into <strong>Typesense filter expressions</strong>.</p>

                        <div class="example-box">
                            <h3>Example Translations</h3>

                            <div style="margin: 20px 0; padding: 16px; background: var(--bg); border-radius: 8px;">
                                <strong style="color: var(--primary);">Query:</strong> "How many people like blue color?"<br>
                                <strong style="color: #10b981;">Filter:</strong> <code>likes_color:=blue</code>
                            </div>

                            <div style="margin: 20px 0; padding: 16px; background: var(--bg); border-radius: 8px;">
                                <strong style="color: var(--primary);">Query:</strong> "Girls who like biryani"<br>
                                <strong style="color: #10b981;">Filter:</strong> <code>gender:=girl && likes_food:biryani</code>
                            </div>

                            <div style="margin: 20px 0; padding: 16px; background: var(--bg); border-radius: 8px;">
                                <strong style="color: var(--primary);">Query:</strong> "Who likes red color?"<br>
                                <strong style="color: #10b981;">Filter:</strong> <code>likes_color:=red</code>
                            </div>
                        </div>

                        <div class="highlight-box">
                            <strong>LLM Prompt Engineering:</strong> The LLM is given the schema and examples to learn the filter syntax automatically.
                        </div>
                    </div>
                </div>

                <!-- Slide 8: Step 5 - Hybrid Search -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>Step 5: Hybrid Search</h2>
                            <p class="slide-subtitle">Best of Both Worlds</p>
                        </div>

                        <p><strong>Hybrid Search</strong> combines structured filters with text-based matching for optimal results.</p>

                        <div class="code-example" style="margin-top: 24px;">
<span class="comment"># Hybrid Search Implementation</span>
params = {
  <span class="string">'q'</span>: query,                    <span class="comment"># Text to search</span>
  <span class="string">'query_by'</span>: <span class="string">'text'</span>,            <span class="comment"># Search in text field</span>
  <span class="string">'filter_by'</span>: <span class="string">'likes_color:=blue'</span>, <span class="comment"># Apply filters</span>
  <span class="string">'sort_by'</span>: <span class="string">'_text_match:desc'</span>  <span class="comment"># Rank by relevance</span>
}

response = typesense.search(params)
                        </div>

                        <p style="margin-top: 24px;"><strong>Advantages:</strong></p>
                        <ul class="feature-list">
                            <li><strong>Precision</strong> - Filters ensure exact attribute matching</li>
                            <li><strong>Recall</strong> - Text search catches variations</li>
                            <li><strong>Ranking</strong> - Results sorted by relevance score</li>
                            <li><strong>Fast</strong> - Optimized indexing for speed</li>
                        </ul>

                        <div class="highlight-box" style="margin-top: 20px;">
                            <strong>Result:</strong> Returns only documents matching BOTH the filter criteria AND text relevance.
                        </div>
                    </div>
                </div>

                <!-- Slide 9: Step 6 - Answer Generation -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>Step 6: Answer Generation</h2>
                            <p class="slide-subtitle">Natural Language Responses</p>
                        </div>

                        <p>Use LLM to generate <strong>natural, context-aware answers</strong> from search results.</p>

                        <div class="pipeline-step">
                            <h3>Search Results (Input to LLM)</h3>
                            <div class="json-tree" id="searchResultsExample"></div>
                        </div>

                        <div style="text-align: center; font-size: 1.5em; color: var(--primary); margin: 16px 0;">
                            ‚Üì LLM Generates Answer ‚Üì
                        </div>

                        <div class="pipeline-step">
                            <h3>Natural Language Answer</h3>
                            <div class="code-example" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); color: #78350f;">
"2 people like blue color - Ravi (boy) and Nirnajn."
                            </div>
                        </div>

                        <div class="highlight-box">
                            <strong>Customizable:</strong> Users can modify the LLM instruction template to change answer format and style!
                        </div>
                    </div>
                </div>

                <!-- Slide 10: Technology Stack -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>Technology Stack</h2>
                            <p class="slide-subtitle">Components Used</p>
                        </div>

                        <div class="tech-stack">
                            <div class="tech-card">
                                <div class="tech-icon">üêç</div>
                                <div class="tech-name">Flask</div>
                                <div class="tech-desc">Web framework & API backend</div>
                            </div>

                            <div class="tech-card">
                                <div class="tech-icon">ü§ñ</div>
                                <div class="tech-name">Ollama</div>
                                <div class="tech-desc">Local LLM inference (Gemma 3)</div>
                            </div>

                            <div class="tech-card">
                                <div class="tech-icon">üíæ</div>
                                <div class="tech-name">Typesense</div>
                                <div class="tech-desc">Vector database & search engine</div>
                            </div>

                            <div class="tech-card">
                                <div class="tech-icon">üé®</div>
                                <div class="tech-name">JavaScript</div>
                                <div class="tech-desc">Interactive UI & visualizations</div>
                            </div>
                        </div>

                        <div class="example-box" style="margin-top: 32px;">
                            <h3>Model Options</h3>
                            <ul style="padding-left: 20px;">
                                <li><strong>Gemma 3:270M</strong> - Fastest, less accurate</li>
                                <li><strong>Gemma 3:1B</strong> - Balanced (Recommended) ‚≠ê</li>
                                <li><strong>Gemma 3:4B</strong> - Slower, more accurate</li>
                                <li><strong>Gemma 3:12B</strong> - Slowest, most accurate</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Slide 11: Implementation Code -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>Key Implementation</h2>
                            <p class="slide-subtitle">Core Python Code</p>
                        </div>

                        <div class="example-box">
                            <h3>Structure Data with LLM</h3>
                            <div class="code-example">
<span class="comment"># services/ollama_service.py</span>
<span class="keyword">def</span> structure_text(text, schema_hint):
    prompt = <span class="string">f"""Convert this to JSON:
    {text}

    Schema: {schema_hint}"""</span>

    result = subprocess.run(
        [<span class="string">'ollama'</span>, <span class="string">'run'</span>, model, prompt],
        capture_output=<span class="keyword">True</span>
    )

    <span class="keyword">return</span> json.loads(result.stdout)
                            </div>
                        </div>

                        <div class="example-box" style="margin-top: 20px;">
                            <h3>Query Translation</h3>
                            <div class="code-example">
<span class="comment"># Translate natural language to filters</span>
<span class="keyword">def</span> translate_query_to_filter(query, schema):
    prompt = <span class="string">f"""Convert query to Typesense filter:
    Query: {query}
    Available fields: {schema}

    Return JSON with 'q' and 'filter_by'"""</span>

    <span class="keyword">return</span> ollama.run(model, prompt)
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 12: RAG - Retrieval-Augmented Generation -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>ü§ñ RAG: Retrieval-Augmented Generation</h2>
                            <p class="slide-subtitle">Understanding the Architecture Behind Our Pipeline</p>
                        </div>

                        <div style="margin-top: 24px;">
                            <h3 style="color: var(--primary); margin-bottom: 16px;">What is RAG?</h3>
                            <p style="font-size: 1.0625em; line-height: 1.8; margin-bottom: 24px;">
                                <strong>RAG (Retrieval-Augmented Generation)</strong> is an AI architecture that combines information retrieval
                                with large language model generation to produce accurate, contextual answers grounded in your own data.
                            </p>

                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin: 32px 0;">
                                <div class="comparison-card" style="text-align: center;">
                                    <div style="font-size: 2.5em; margin-bottom: 12px;">üîç</div>
                                    <h4 style="color: var(--primary);">1. Retrieval</h4>
                                    <p style="font-size: 0.9375em; color: var(--text-secondary);">
                                        Search relevant documents from knowledge base
                                    </p>
                                </div>
                                <div class="comparison-card" style="text-align: center;">
                                    <div style="font-size: 2.5em; margin-bottom: 12px;">üìö</div>
                                    <h4 style="color: var(--primary);">2. Augmentation</h4>
                                    <p style="font-size: 0.9375em; color: var(--text-secondary);">
                                        Combine query with retrieved context
                                    </p>
                                </div>
                                <div class="comparison-card" style="text-align: center;">
                                    <div style="font-size: 2.5em; margin-bottom: 12px;">‚ú®</div>
                                    <h4 style="color: var(--primary);">3. Generation</h4>
                                    <p style="font-size: 0.9375em; color: var(--text-secondary);">
                                        LLM generates answer using context
                                    </p>
                                </div>
                            </div>

                            <div class="highlight-box" style="margin-top: 24px;">
                                <h4 style="margin-top: 0; color: var(--primary);">üí° How Our Pipeline Implements RAG</h4>
                                <ul style="margin: 12px 0; padding-left: 24px; line-height: 1.8;">
                                    <li><strong>Retrieval:</strong> Typesense searches structured data using hybrid search (text + filters)</li>
                                    <li><strong>Augmentation:</strong> Query + Retrieved documents combined in LLM prompt with custom instructions</li>
                                    <li><strong>Generation:</strong> Ollama LLM generates natural language answer based on actual data</li>
                                </ul>
                            </div>

                            <div style="margin-top: 24px; background: #f0f9ff; border-left: 4px solid var(--primary); padding: 16px; border-radius: 8px;">
                                <h4 style="margin-top: 0; color: var(--primary);">‚úÖ Benefits of RAG</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; font-size: 0.9375em;">
                                    <div>‚úì <strong>Accurate:</strong> Answers grounded in real data</div>
                                    <div>‚úì <strong>Up-to-date:</strong> Reflects current information</div>
                                    <div>‚úì <strong>Traceable:</strong> Can cite source documents</div>
                                    <div>‚úì <strong>Domain-specific:</strong> Uses your knowledge base</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 13: Key Takeaways -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>Key Takeaways</h2>
                            <p class="slide-subtitle">What We've Learned</p>
                        </div>

                        <ul style="font-size: 1.125em; line-height: 2; margin-top: 24px;">
                            <li><strong>RAG architecture</strong> combines retrieval + LLM generation for accurate answers</li>
                            <li><strong>Semantic search</strong> understands meaning, not just keywords</li>
                            <li><strong>LLMs</strong> can structure unstructured data automatically</li>
                            <li><strong>Hybrid search</strong> combines filters + text matching for precision</li>
                            <li><strong>Natural language interfaces</strong> make search accessible to everyone</li>
                            <li><strong>Local LLMs</strong> (Ollama) enable privacy-first AI applications</li>
                        </ul>

                        <div class="highlight-box" style="margin-top: 40px;">
                            <strong>üéØ Next Step:</strong> Try the <a href="/demo" style="color: var(--primary); text-decoration: underline;">Interactive Demo</a> to see the full RAG pipeline in action!
                        </div>

                        <div style="text-align: center; margin-top: 60px;">
                            <a href="/demo" style="text-decoration: none;">
                                <button class="action-btn" style="padding: 16px 32px; font-size: 1.125em;">
                                    Try Full Pipeline Demo ‚Üí
                                </button>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Navigation Controls -->
        <div class="carousel-nav">
            <button id="prevBtn" onclick="prevSlide()">‚Üê Previous</button>

            <div class="nav-center">
                <div class="slide-indicators" id="slideIndicators"></div>
                <span class="slide-counter">
                    <span id="currentSlide">1</span> / <span id="totalSlides">13</span>
                </span>
            </div>

            <button id="nextBtn" onclick="nextSlide()">Next ‚Üí</button>
        </div>
    </div>

    <div class="keyboard-hint" id="keyboardHint">
        Use <kbd>‚Üê</kbd> <kbd>‚Üí</kbd> arrow keys to navigate
    </div>

    <script>
        // Carousel State
        let currentSlide = 0;
        const totalSlides = 13;
        const carouselWrapper = document.getElementById('carouselWrapper');
        const progressFill = document.getElementById('progressFill');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        function initCarousel() {
            updateSlide();
            createIndicators();
            setTimeout(() => {
                document.getElementById('keyboardHint').style.animation = 'fadeInOut 3s ease-in-out';
            }, 1000);
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                currentSlide++;
                updateSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                updateSlide();
            }
        }

        function goToSlide(index) {
            currentSlide = index;
            updateSlide();
        }

        function updateSlide() {
            const offset = -currentSlide * 100;
            carouselWrapper.style.transform = `translateX(${offset}%)`;

            const progress = ((currentSlide + 1) / totalSlides) * 100;
            progressFill.style.width = `${progress}%`;

            document.getElementById('currentSlide').textContent = currentSlide + 1;

            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === totalSlides - 1;

            updateIndicators();
        }

        function createIndicators() {
            const container = document.getElementById('slideIndicators');
            for (let i = 0; i < totalSlides; i++) {
                const indicator = document.createElement('div');
                indicator.className = 'slide-indicator';
                indicator.onclick = () => goToSlide(i);
                container.appendChild(indicator);
            }
            updateIndicators();
        }

        function updateIndicators() {
            const indicators = document.querySelectorAll('.slide-indicator');
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentSlide);
            });
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        // JSON Tree Renderer
        function renderJsonTree(data, container) {
            container.innerHTML = '';
            const ul = document.createElement('ul');
            ul.style.paddingLeft = '0';
            const tree = createJsonTree(data);
            ul.appendChild(tree);
            container.appendChild(ul);
        }

        function createJsonTree(data, key = null) {
            const li = document.createElement('li');

            if (Array.isArray(data)) {
                // Array
                const toggle = document.createElement('span');
                toggle.className = 'json-toggle';
                toggle.textContent = '‚ñº';
                toggle.onclick = function(e) {
                    e.stopPropagation();
                    li.classList.toggle('json-collapsed');
                    toggle.textContent = li.classList.contains('json-collapsed') ? '‚ñ∂' : '‚ñº';
                };

                const label = document.createElement('span');
                if (key !== null) {
                    const keySpan = document.createElement('span');
                    keySpan.className = 'json-key';
                    keySpan.textContent = key;
                    label.appendChild(keySpan);
                    label.appendChild(document.createTextNode(': '));
                }

                const bracket = document.createElement('span');
                bracket.className = 'json-bracket';
                bracket.textContent = '[';
                label.appendChild(bracket);

                const count = document.createElement('span');
                count.className = 'json-item-count';
                count.textContent = data.length + (data.length === 1 ? ' item' : ' items');
                label.appendChild(count);

                li.appendChild(toggle);
                li.appendChild(label);

                if (data.length > 0) {
                    const ul = document.createElement('ul');
                    data.forEach((item, index) => {
                        ul.appendChild(createJsonTree(item, index));
                    });
                    li.appendChild(ul);

                    const closeBracket = document.createElement('span');
                    closeBracket.className = 'json-bracket';
                    closeBracket.textContent = ']';
                    ul.appendChild(closeBracket);
                } else {
                    const closeBracket = document.createElement('span');
                    closeBracket.className = 'json-bracket';
                    closeBracket.textContent = ']';
                    label.appendChild(closeBracket);
                }

            } else if (typeof data === 'object' && data !== null) {
                // Object
                const toggle = document.createElement('span');
                toggle.className = 'json-toggle';
                toggle.textContent = '‚ñº';
                toggle.onclick = function(e) {
                    e.stopPropagation();
                    li.classList.toggle('json-collapsed');
                    toggle.textContent = li.classList.contains('json-collapsed') ? '‚ñ∂' : '‚ñº';
                };

                const label = document.createElement('span');
                if (key !== null) {
                    const keySpan = document.createElement('span');
                    keySpan.className = 'json-key';
                    keySpan.textContent = key;
                    label.appendChild(keySpan);
                    label.appendChild(document.createTextNode(': '));
                }

                const bracket = document.createElement('span');
                bracket.className = 'json-bracket';
                bracket.textContent = '{';
                label.appendChild(bracket);

                const keys = Object.keys(data);
                const count = document.createElement('span');
                count.className = 'json-item-count';
                count.textContent = keys.length + (keys.length === 1 ? ' property' : ' properties');
                label.appendChild(count);

                li.appendChild(toggle);
                li.appendChild(label);

                if (keys.length > 0) {
                    const ul = document.createElement('ul');
                    keys.forEach((k) => {
                        ul.appendChild(createJsonTree(data[k], k));
                    });
                    li.appendChild(ul);

                    const closeBracket = document.createElement('span');
                    closeBracket.className = 'json-bracket';
                    closeBracket.textContent = '}';
                    ul.appendChild(closeBracket);
                } else {
                    const closeBracket = document.createElement('span');
                    closeBracket.className = 'json-bracket';
                    closeBracket.textContent = '}';
                    label.appendChild(closeBracket);
                }

            } else {
                // Primitive value
                const label = document.createElement('span');

                if (key !== null) {
                    const keySpan = document.createElement('span');
                    keySpan.className = 'json-key';
                    keySpan.textContent = key;
                    label.appendChild(keySpan);
                    label.appendChild(document.createTextNode(': '));
                }

                const valueSpan = document.createElement('span');
                if (typeof data === 'string') {
                    valueSpan.className = 'json-string';
                    valueSpan.textContent = '"' + data + '"';
                } else if (typeof data === 'number') {
                    valueSpan.className = 'json-number';
                    valueSpan.textContent = data;
                } else if (typeof data === 'boolean') {
                    valueSpan.className = 'json-boolean';
                    valueSpan.textContent = data;
                } else if (data === null) {
                    valueSpan.className = 'json-null';
                    valueSpan.textContent = 'null';
                }
                label.appendChild(valueSpan);

                li.appendChild(label);
            }

            return li;
        }

        // Initialize JSON Trees
        function initJsonTrees() {
            // Structured JSON Example (Slide 5)
            const structuredExample = {
                "name": "Ravi",
                "gender": "boy",
                "likes_color": "blue",
                "likes_food": "sambar rice",
                "text": "Ravi is a boy. He likes blue color and sambar rice."
            };
            const structuredContainer = document.getElementById('structuredJsonExample');
            if (structuredContainer) {
                renderJsonTree(structuredExample, structuredContainer);
            }

            // Schema Example (Slide 6)
            const schemaExample = {
                "name": "llm-semantic-search",
                "fields": [
                    {"name": "name", "type": "string"},
                    {"name": "gender", "type": "string", "facet": true},
                    {"name": "likes_color", "type": "string", "facet": true},
                    {"name": "likes_food", "type": "string", "facet": true},
                    {"name": "text", "type": "string"}
                ]
            };
            const schemaContainer = document.getElementById('schemaExample');
            if (schemaContainer) {
                renderJsonTree(schemaExample, schemaContainer);
            }

            // Search Results Example (Slide 9)
            const searchResultsExample = [
                {"name": "Ravi", "gender": "boy", "likes_color": "blue"},
                {"name": "Nirnajn", "gender": "unknown", "likes_color": "blue"}
            ];
            const searchResultsContainer = document.getElementById('searchResultsExample');
            if (searchResultsContainer) {
                renderJsonTree(searchResultsExample, searchResultsContainer);
            }
        }

        initCarousel();
        initJsonTrees();
    </script>
</body>
</html>
