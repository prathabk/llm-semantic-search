<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typesense Vector Database - Semantic Search Course</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" href="static/css/carousel.css">

    <!-- Prism.js for code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css">

    <style>
        .title-slide {
            text-align: center;
            padding: 80px 20px;
        }

        .title-slide h1 {
            font-size: 3em;
            margin-bottom: 16px;
        }

        .title-slide .subtitle {
            font-size: 1.5em;
            color: var(--text-secondary);
            margin-bottom: 40px;
        }

        .title-slide .course-info {
            max-width: 700px;
            margin: 0 auto;
            font-size: 1.125em;
            line-height: 1.8;
        }

        .architecture-diagram {
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
            font-family: monospace;
            font-size: 0.95em;
            line-height: 2;
        }

        .flow-step {
            padding: 12px;
            margin: 8px 0;
            border-radius: 6px;
            border-left: 4px solid var(--primary);
            background: rgba(37, 99, 235, 0.05);
        }

        .code-example {
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .code-example pre {
            margin: 0;
            padding: 0;
            background: #2d2d2d !important;
        }

        .code-example pre code {
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            font-size: 0.85em;
            line-height: 1.6;
        }

        /* Prism line numbers styling */
        .line-numbers .line-numbers-rows {
            border-right: 1px solid #4a4a4a;
            background: #1e1e1e;
        }

        .line-numbers-rows > span:before {
            color: #858585;
        }

        /* Override Prism tomorrow theme for better visibility */
        pre[class*="language-"] {
            background: #2d2d2d;
        }

        code[class*="language-"] {
            color: #e2e8f0;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 24px 0;
        }

        .comparison-card {
            padding: 20px;
            border-radius: 8px;
            border: 2px solid;
        }

        .comparison-card h4 {
            margin: 0 0 12px 0;
            font-size: 1.1em;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin: 24px 0;
        }

        .feature-badge {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            transition: all 0.3s;
        }

        .feature-badge:hover {
            border-color: var(--primary);
            box-shadow: 0 4px 12px var(--shadow);
        }

        .feature-icon {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .feature-name {
            font-weight: 600;
            font-size: 0.95em;
            color: var(--text);
        }

        .visual-example {
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .vector-visualization {
            display: flex;
            align-items: center;
            gap: 16px;
            margin: 12px 0;
            padding: 12px;
            background: var(--surface);
            border-radius: 6px;
        }

        .vector-box {
            flex: 1;
            padding: 12px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 0.85em;
        }

        .similarity-score {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 2px solid #f59e0b;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 1.1em;
            color: #92400e;
        }

        .metadata-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            font-size: 0.9em;
        }

        .metadata-table th {
            background: var(--primary);
            color: white;
            padding: 10px;
            text-align: left;
            font-weight: 600;
        }

        .metadata-table td {
            padding: 10px;
            border-bottom: 1px solid var(--border);
        }

        .metadata-table tr:hover {
            background: var(--bg);
        }

        .highlight-box {
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            border: 2px solid #6366f1;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .hybrid-example {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }

        .search-method {
            flex: 1;
            padding: 16px;
            border-radius: 8px;
            border: 2px solid;
        }

        .cluster-visualization {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin: 20px 0;
        }

        .cluster-box {
            padding: 16px;
            border-radius: 8px;
            border: 2px solid;
            text-align: center;
        }

        .cluster-items {
            margin-top: 12px;
            font-size: 0.85em;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="home-link">‚Üê Back to Home</a>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="carousel-container">
            <div class="carousel-wrapper" id="carouselWrapper">

                <!-- Slide 1: Title -->
                <div class="slide">
                    <div class="slide-content title-slide">
                        <h1>üíæ Typesense Vector Database</h1>
                        <p class="subtitle">Fast, Scalable Semantic Search Engine</p>
                        <div class="course-info">
                            <p>
                                Discover how Typesense combines the power of traditional search with vector embeddings
                                to enable lightning-fast semantic search at scale.
                            </p>
                            <p style="margin-top: 20px;">
                                Learn about vector storage, similarity search, hybrid search, clustering,
                                and how it all comes together for production-ready LLM applications.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Slide 2: What is Typesense? -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>üîç What is Typesense?</h2>
                            <p class="slide-subtitle">Open-Source Search Engine Built for Speed</p>
                        </div>

                        <p style="font-size: 1.1em; line-height: 1.8; margin-bottom: 24px;">
                            Typesense is an <strong>open-source, typo-tolerant search engine</strong> optimized for
                            instant search experiences. It combines traditional full-text search with modern
                            <strong>vector search capabilities</strong>.
                        </p>

                        <div class="feature-grid">
                            <div class="feature-badge">
                                <div class="feature-icon">‚ö°</div>
                                <div class="feature-name">Lightning Fast</div>
                                <p style="font-size: 0.85em; margin-top: 8px; color: var(--text-secondary);">
                                    Sub-50ms search response times
                                </p>
                            </div>
                            <div class="feature-badge">
                                <div class="feature-icon">üéØ</div>
                                <div class="feature-name">Typo Tolerant</div>
                                <p style="font-size: 0.85em; margin-top: 8px; color: var(--text-secondary);">
                                    Handles misspellings automatically
                                </p>
                            </div>
                            <div class="feature-badge">
                                <div class="feature-icon">üß¨</div>
                                <div class="feature-name">Vector Search</div>
                                <p style="font-size: 0.85em; margin-top: 8px; color: var(--text-secondary);">
                                    Native support for embeddings
                                </p>
                            </div>
                            <div class="feature-badge">
                                <div class="feature-icon">üîÑ</div>
                                <div class="feature-name">Hybrid Search</div>
                                <p style="font-size: 0.85em; margin-top: 8px; color: var(--text-secondary);">
                                    Combines keyword + semantic
                                </p>
                            </div>
                            <div class="feature-badge">
                                <div class="feature-icon">üì¶</div>
                                <div class="feature-name">Easy Setup</div>
                                <p style="font-size: 0.85em; margin-top: 8px; color: var(--text-secondary);">
                                    Single binary, no dependencies
                                </p>
                            </div>
                            <div class="feature-badge">
                                <div class="feature-icon">üîê</div>
                                <div class="feature-name">Production Ready</div>
                                <p style="font-size: 0.85em; margin-top: 8px; color: var(--text-secondary);">
                                    GDPR compliant, self-hosted
                                </p>
                            </div>
                        </div>

                        <div class="example-box" style="background: #e0e7ff; border-color: #6366f1;">
                            <h4 style="margin-top: 0; color: #6366f1;">Why Typesense for Semantic Search?</h4>
                            <ul style="line-height: 2; margin: 8px 0;">
                                <li><strong>Performance:</strong> In-memory index with disk persistence (faster than Elasticsearch)</li>
                                <li><strong>Simplicity:</strong> No complex configuration, works out of the box</li>
                                <li><strong>Hybrid:</strong> Seamlessly combine keyword and vector search</li>
                                <li><strong>Scalability:</strong> Handles millions of vectors efficiently</li>
                                <li><strong>Developer UX:</strong> Clean API, comprehensive docs, active community</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Slide 3: Storing Embeddings -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>üíæ Storing Text Chunks as Embeddings</h2>
                            <p class="slide-subtitle">From Text to Searchable Vectors</p>
                        </div>

                        <div class="architecture-diagram">
                            <strong style="font-size: 1.1em;">The Storage Pipeline:</strong><br><br>
                            <div class="flow-step">
                                <strong>Step 1: Text Chunking</strong><br>
                                "Puducherry is a union territory of India." ‚Üí Chunk 1
                            </div>
                            <div class="flow-step">
                                <strong>Step 2: Choose Embedding Model</strong><br>
                                Options: OpenAI ada-002, Sentence-BERT, Ollama (nomic-embed-text)
                            </div>
                            <div class="flow-step">
                                <strong>Step 3: Generate Embeddings</strong><br>
                                Chunk 1 ‚Üí LLM ‚Üí [0.23, -0.41, 0.87, ..., 0.15] (768 dimensions)
                            </div>
                            <div class="flow-step">
                                <strong>Step 4: Store in Typesense</strong><br>
                                Document = {id, text, embedding[768], metadata}
                            </div>
                        </div>

                        <div class="code-example">
                            <pre class="line-numbers"><code class="language-python"># Define Typesense schema with vector field
schema = {
  "name": "documents",
  "fields": [
    {
      "name": "id",
      "type": "string"
    },
    {
      "name": "text",
      "type": "string"
    },
    {
      "name": "embedding",
      "type": "float[]",
      "num_dim": 768  # Vector field!
    }
  ]
}

# Insert document with embedding
document = {
  "id": "1",
  "text": "Puducherry is a union territory of India.",
  "embedding": [
    0.23, -0.41, 0.87, 0.15, -0.62, 0.91, ...  # 768-dim vector
  ]
}

client.collections['documents'].documents.create(document)</code></pre>
                        </div>

                        <div class="comparison-grid">
                            <div class="comparison-card" style="border-color: #10b981; background: rgba(16, 185, 129, 0.05);">
                                <h4 style="color: #10b981;">‚úÖ Best Practices</h4>
                                <ul style="line-height: 1.8; margin: 8px 0; font-size: 0.9em;">
                                    <li>Use consistent embedding model</li>
                                    <li>Match dimensions (768, 1536, etc.)</li>
                                    <li>Normalize vectors (-1 to 1)</li>
                                    <li>Batch insert for performance</li>
                                </ul>
                            </div>
                            <div class="comparison-card" style="border-color: #ef4444; background: rgba(239, 68, 68, 0.05);">
                                <h4 style="color: #ef4444;">‚ùå Common Mistakes</h4>
                                <ul style="line-height: 1.8; margin: 8px 0; font-size: 0.9em;">
                                    <li>Mixing different embedding models</li>
                                    <li>Wrong dimension count</li>
                                    <li>Not storing original text</li>
                                    <li>Forgetting to update embeddings</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 4: Choosing LLM Models -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>ü§ñ Choosing Embedding Models</h2>
                            <p class="slide-subtitle">Different Models for Different Needs</p>
                        </div>

                        <table class="metadata-table">
                            <thead>
                                <tr>
                                    <th>Model</th>
                                    <th>Dimensions</th>
                                    <th>Best For</th>
                                    <th>Speed</th>
                                    <th>Cost</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>OpenAI ada-002</strong></td>
                                    <td>1536</td>
                                    <td>General purpose, high quality</td>
                                    <td>‚ö°‚ö°‚ö°</td>
                                    <td>üí∞üí∞</td>
                                </tr>
                                <tr>
                                    <td><strong>OpenAI text-embedding-3-small</strong></td>
                                    <td>512/1536</td>
                                    <td>Cost-effective, good quality</td>
                                    <td>‚ö°‚ö°‚ö°‚ö°</td>
                                    <td>üí∞</td>
                                </tr>
                                <tr>
                                    <td><strong>Sentence-BERT (all-MiniLM)</strong></td>
                                    <td>384</td>
                                    <td>Fast, lightweight, offline</td>
                                    <td>‚ö°‚ö°‚ö°‚ö°‚ö°</td>
                                    <td>Free</td>
                                </tr>
                                <tr>
                                    <td><strong>Ollama (nomic-embed-text)</strong></td>
                                    <td>768</td>
                                    <td>Local deployment, privacy</td>
                                    <td>‚ö°‚ö°‚ö°</td>
                                    <td>Free</td>
                                </tr>
                                <tr style="background: #fef3c7;">
                                    <td><strong>Voyage AI Context-3</strong></td>
                                    <td>1024</td>
                                    <td>Best quality, context-aware</td>
                                    <td>‚ö°‚ö°‚ö°</td>
                                    <td>üí∞üí∞üí∞</td>
                                </tr>
                                <tr style="background: #fef3c7;">
                                    <td><strong>Jina AI embeddings-v3</strong></td>
                                    <td>1024</td>
                                    <td>Long documents, multilingual</td>
                                    <td>‚ö°‚ö°‚ö°</td>
                                    <td>üí∞üí∞</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="highlight-box">
                            <h4 style="margin-top: 0; color: #6366f1;">üéØ How to Choose?</h4>
                            <div style="line-height: 2;">
                                <strong>For Production (Cloud):</strong> OpenAI text-embedding-3-small (best balance)<br>
                                <strong>For Production (Self-Hosted):</strong> Sentence-BERT or Ollama<br>
                                <strong>For Best Quality:</strong> Voyage AI Context-3 or OpenAI ada-002<br>
                                <strong>For Budget/Privacy:</strong> Ollama nomic-embed-text (runs locally)<br>
                                <strong>For Long Documents:</strong> Jina AI embeddings-v3 (8K context)<br>
                                <strong>For Speed:</strong> Sentence-BERT all-MiniLM (384 dims)
                            </div>
                        </div>

                        <div class="example-box" style="background: var(--bg); margin-top: 20px;">
                            <h4 style="margin-top: 0;">üí° Important: Model Consistency</h4>
                            <p style="margin: 0; line-height: 1.7;">
                                <strong>Query embeddings MUST use the same model as document embeddings!</strong><br><br>
                                ‚ùå Wrong: Documents embedded with OpenAI, query with Sentence-BERT ‚Üí Poor results<br>
                                ‚úÖ Correct: Both documents and queries use OpenAI ada-002 ‚Üí Accurate similarity
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Slide 5: Adding Metadata -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>üè∑Ô∏è Adding Metadata to Embeddings</h2>
                            <p class="slide-subtitle">Enriching Vectors with Structured Data</p>
                        </div>

                        <p style="font-size: 1.05em; line-height: 1.8; margin-bottom: 24px;">
                            Metadata allows you to <strong>filter and refine</strong> semantic search results.
                            Combine the power of embeddings with traditional filtering!
                        </p>

                        <div class="code-example">
                            <pre class="line-numbers"><code class="language-python"># Schema with metadata fields
schema = {
  "name": "articles",
  "fields": [
    {
      "name": "id",
      "type": "string"
    },
    {
      "name": "text",
      "type": "string"
    },
    {
      "name": "embedding",
      "type": "float[]",
      "num_dim": 768
    },
    # Metadata fields for filtering
    {
      "name": "category",
      "type": "string",
      "facet": true
    },
    {
      "name": "author",
      "type": "string"
    },
    {
      "name": "published_date",
      "type": "int64"
    },
    {
      "name": "tags",
      "type": "string[]"
    },
    {
      "name": "word_count",
      "type": "int32"
    },
    {
      "name": "language",
      "type": "string"
    }
  ]
}

# Document with rich metadata
document = {
  "id": "1",
  "text": "Puducherry is a union territory of India...",
  "embedding": [
    0.23, -0.41, 0.87, 0.15, -0.62, 0.91, ...
  ],
  "category": "Geography",
  "author": "Wikipedia",
  "published_date": 1704067200,
  "tags": [
    "India",
    "Union Territory",
    "French Colony"
  ],
  "word_count": 12,
  "language": "en"
}</code></pre>
                        </div>

                        <div class="visual-example">
                            <h4 style="margin-top: 0;">üîç Query with Metadata Filters</h4>
                            <div class="code-example" style="margin-top: 12px;">
                                <pre class="line-numbers"><code class="language-python"># Semantic search + metadata filtering
results = client.collections['articles'].documents.search({
  'q': '*',
  'vector_query': 'embedding:([], k:10)',  # Vector search
  'filter_by': 'category:=Geography && published_date:>1704000000'
})</code></pre>
                            </div>
                            <p style="margin-top: 12px; font-size: 0.95em; line-height: 1.7;">
                                <strong>Result:</strong> Returns semantically similar documents that are ALSO in Geography category
                                and published after a specific date. Best of both worlds!
                            </p>
                        </div>

                        <div class="example-box" style="background: #d1fae5; border-color: #059669;">
                            <h4 style="margin-top: 0; color: #059669;">‚úÖ Common Metadata Use Cases</h4>
                            <ul style="line-height: 2; margin: 8px 0;">
                                <li><strong>E-commerce:</strong> category, price, brand, rating, in_stock</li>
                                <li><strong>Documentation:</strong> product, version, last_updated, section</li>
                                <li><strong>News:</strong> publication, author, date, topic, sentiment</li>
                                <li><strong>Legal:</strong> case_type, jurisdiction, year, court</li>
                                <li><strong>Academic:</strong> field, year, citations, peer_reviewed</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Slide 6: Text Similarity with Embeddings -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>üìê Text Similarity Using Embeddings</h2>
                            <p class="slide-subtitle">How Typesense Finds Similar Documents</p>
                        </div>

                        <div class="architecture-diagram">
                            <strong style="font-size: 1.1em;">Similarity Search Process:</strong><br><br>
                            <div class="flow-step">
                                <strong>1. User Query</strong><br>
                                "French colonial heritage in India"
                            </div>
                            <div class="flow-step">
                                <strong>2. Embed Query (Same Model!)</strong><br>
                                Query ‚Üí LLM ‚Üí [0.19, -0.38, 0.82, ..., 0.21] (768 dims)
                            </div>
                            <div class="flow-step">
                                <strong>3. Calculate Similarity (Cosine Distance)</strong><br>
                                Compare query vector with ALL document vectors<br>
                                Distance = 1 - cosine_similarity(query_vec, doc_vec)
                            </div>
                            <div class="flow-step">
                                <strong>4. Return Top-K Results</strong><br>
                                Sort by similarity, return top 10 closest documents
                            </div>
                        </div>

                        <div class="visual-example">
                            <h4 style="margin-top: 0;">üìä Similarity Calculation Example</h4>

                            <div class="vector-visualization">
                                <div class="vector-box" style="background: #dbeafe; border: 2px solid #2563eb;">
                                    <strong>Query Vector:</strong><br>
                                    [0.19, -0.38, 0.82, ...]<br>
                                    <small>French colonial heritage</small>
                                </div>
                                <span style="font-size: 1.5em; font-weight: 700; color: var(--primary);">‚ÜîÔ∏è</span>
                                <div class="vector-box" style="background: #fef3c7; border: 2px solid #f59e0b;">
                                    <strong>Doc 1 Vector:</strong><br>
                                    [0.23, -0.41, 0.87, ...]<br>
                                    <small>Puducherry union territory</small>
                                </div>
                                <div class="similarity-score">
                                    0.89<br>
                                    <small style="font-size: 0.7em;">High similarity!</small>
                                </div>
                            </div>

                            <div class="vector-visualization">
                                <div class="vector-box" style="background: #dbeafe; border: 2px solid #2563eb;">
                                    <strong>Query Vector:</strong><br>
                                    [0.19, -0.38, 0.82, ...]<br>
                                    <small>French colonial heritage</small>
                                </div>
                                <span style="font-size: 1.5em; font-weight: 700; color: var(--primary);">‚ÜîÔ∏è</span>
                                <div class="vector-box" style="background: #fee2e2; border: 2px solid #dc2626;">
                                    <strong>Doc 2 Vector:</strong><br>
                                    [-0.65, 0.72, -0.11, ...]<br>
                                    <small>Python programming tutorial</small>
                                </div>
                                <div class="similarity-score" style="background: #fee2e2; border-color: #dc2626; color: #991b1b;">
                                    0.12<br>
                                    <small style="font-size: 0.7em;">Low similarity</small>
                                </div>
                            </div>
                        </div>

                        <div class="code-example">
                            <pre class="line-numbers"><code class="language-python"># Vector search in Typesense
search_params = {
  'q': '*',
  'vector_query': 'embedding:([0.19, -0.38, 0.82, ...], k:10)',
  'exclude_fields': 'embedding'  # Don't return vectors
}

results = client.collections['documents'].documents.search(search_params)

# Results sorted by similarity (highest first)
for hit in results['hits']:
    print(hit['document']['text'])
    print(f"Similarity: {1 - hit['vector_distance']:.2f}")</code></pre>
                        </div>

                        <div class="example-box" style="background: var(--bg);">
                            <h4 style="margin-top: 0;">‚ö° Performance Optimization</h4>
                            <p style="margin: 0; line-height: 1.7; font-size: 0.95em;">
                                Typesense uses <strong>HNSW (Hierarchical Navigable Small World)</strong> algorithm:<br>
                                ‚Ä¢ Approximate Nearest Neighbor (ANN) search<br>
                                ‚Ä¢ Sub-50ms response time for millions of vectors<br>
                                ‚Ä¢ 95%+ recall accuracy with 10x speed improvement vs. exact search<br>
                                ‚Ä¢ Automatically builds graph-based index
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Slide 7: Hybrid Search -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>üîÄ Hybrid Search: Best of Both Worlds</h2>
                            <p class="slide-subtitle">Combining Keyword + Semantic Search</p>
                        </div>

                        <p style="font-size: 1.05em; line-height: 1.8; margin-bottom: 24px;">
                            Hybrid search combines <strong>traditional keyword matching</strong> with <strong>semantic understanding</strong>,
                            giving you precision AND context awareness.
                        </p>

                        <div class="hybrid-example">
                            <div class="search-method" style="border-color: #ef4444; background: rgba(239, 68, 68, 0.05);">
                                <h4 style="color: #ef4444; margin-top: 0;">Keyword-Only Search</h4>
                                <p style="font-size: 0.9em; line-height: 1.6;">
                                    <strong>Query:</strong> "Puducherry heritage"<br><br>
                                    <strong>Matches:</strong><br>
                                    ‚úÖ "Puducherry has French heritage"<br>
                                    ‚ùå "The city has colonial influence" (misses - no exact keyword)
                                </p>
                                <p style="margin-top: 12px; font-weight: 600; color: #ef4444;">
                                    Problem: Misses synonyms and context
                                </p>
                            </div>

                            <div class="search-method" style="border-color: #f59e0b; background: rgba(245, 158, 11, 0.05);">
                                <h4 style="color: #f59e0b; margin-top: 0;">Vector-Only Search</h4>
                                <p style="font-size: 0.9em; line-height: 1.6;">
                                    <strong>Query:</strong> "Puducherry heritage"<br><br>
                                    <strong>Matches:</strong><br>
                                    ‚úÖ "The city has colonial influence"<br>
                                    ‚úÖ "French territory in India"<br>
                                    ‚ö†Ô∏è "Paris historical sites" (similar but wrong context)
                                </p>
                                <p style="margin-top: 12px; font-weight: 600; color: #f59e0b;">
                                    Problem: May retrieve broadly similar but irrelevant docs
                                </p>
                            </div>
                        </div>

                        <div class="search-method" style="border-color: #10b981; background: rgba(16, 185, 129, 0.05); margin-top: 20px;">
                            <h4 style="color: #10b981; margin-top: 0;">‚úÖ Hybrid Search (Keyword + Vector)</h4>
                            <p style="font-size: 0.9em; line-height: 1.6;">
                                <strong>Query:</strong> "Puducherry heritage"<br><br>
                                <strong>Matches (Ranked by Combined Score):</strong><br>
                                ü•á "Puducherry has French colonial heritage" (keyword + vector match ‚Üí score: 0.95)<br>
                                ü•à "The union territory has rich cultural influence" (vector match ‚Üí score: 0.78)<br>
                                ü•â "Pondicherry's historical sites" (typo-tolerant keyword + vector ‚Üí score: 0.71)
                            </p>
                            <p style="margin-top: 12px; font-weight: 600; color: #10b981;">
                                ‚úÖ Best precision + Best recall = Optimal results!
                            </p>
                        </div>

                        <div class="code-example" style="margin-top: 24px;">
                            <pre class="line-numbers"><code class="language-python"># Hybrid search in Typesense
search_params = {
  'q': 'Puducherry heritage',  # Keyword search
  'query_by': 'text',
  'vector_query': 'embedding:([], k:100, alpha:0.5)'  # Vector search (semantic)
}

# alpha = 0.5 means 50% keyword, 50% semantic
# alpha = 0.0 ‚Üí pure keyword, alpha = 1.0 ‚Üí pure semantic

results = client.collections['documents'].documents.search(search_params)</code></pre>
                        </div>

                        <div class="highlight-box" style="margin-top: 20px;">
                            <h4 style="margin-top: 0; color: #6366f1;">üéØ When to Use Hybrid Search?</h4>
                            <div style="line-height: 2; font-size: 0.95em;">
                                <strong>E-commerce:</strong> Product names (keyword) + descriptions (semantic)<br>
                                <strong>Legal/Medical:</strong> Exact terminology (keyword) + concept matching (semantic)<br>
                                <strong>Customer Support:</strong> Ticket IDs (keyword) + intent understanding (semantic)<br>
                                <strong>Documentation:</strong> Function names (keyword) + purpose/usage (semantic)
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 8: Clustering -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>üé® Clustering Data with Embeddings</h2>
                            <p class="slide-subtitle">Automatic Topic Discovery and Organization</p>
                        </div>

                        <p style="font-size: 1.05em; line-height: 1.8; margin-bottom: 24px;">
                            Embeddings enable <strong>automatic clustering</strong> - grouping similar documents together
                            without manual labeling. Perfect for discovering themes and organizing large datasets.
                        </p>

                        <div class="visual-example">
                            <h4 style="margin-top: 0;">üìä K-Means Clustering Example</h4>
                            <p style="font-size: 0.95em; margin-bottom: 16px;">
                                Given 1000 documents about various topics, cluster them into 3 groups based on semantic similarity:
                            </p>

                            <div class="cluster-visualization">
                                <div class="cluster-box" style="border-color: #ef4444; background: rgba(239, 68, 68, 0.05);">
                                    <div style="font-size: 2em; margin-bottom: 8px;">üåç</div>
                                    <strong style="color: #ef4444;">Cluster 1: Geography</strong>
                                    <div class="cluster-items">
                                        ‚Ä¢ Puducherry union territory<br>
                                        ‚Ä¢ India's states and capitals<br>
                                        ‚Ä¢ Mountain ranges in Asia<br>
                                        ‚Ä¢ River systems<br>
                                        <strong>83 documents</strong>
                                    </div>
                                </div>

                                <div class="cluster-box" style="border-color: #10b981; background: rgba(16, 185, 129, 0.05);">
                                    <div style="font-size: 2em; margin-bottom: 8px;">üèõÔ∏è</div>
                                    <strong style="color: #10b981;">Cluster 2: History</strong>
                                    <div class="cluster-items">
                                        ‚Ä¢ French colonial period<br>
                                        ‚Ä¢ Independence movements<br>
                                        ‚Ä¢ Ancient civilizations<br>
                                        ‚Ä¢ Historical treaties<br>
                                        <strong>127 documents</strong>
                                    </div>
                                </div>

                                <div class="cluster-box" style="border-color: #2563eb; background: rgba(37, 99, 235, 0.05);">
                                    <div style="font-size: 2em; margin-bottom: 8px;">üé≠</div>
                                    <strong style="color: #2563eb;">Cluster 3: Culture</strong>
                                    <div class="cluster-items">
                                        ‚Ä¢ Traditional festivals<br>
                                        ‚Ä¢ Cuisine and food<br>
                                        ‚Ä¢ Art and architecture<br>
                                        ‚Ä¢ Language diversity<br>
                                        <strong>91 documents</strong>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="code-example">
                            <pre class="line-numbers"><code class="language-python"># Clustering with Typesense embeddings
from sklearn.cluster import KMeans
import numpy as np

# 1. Fetch all embeddings from Typesense
results = client.collections['documents'].documents.export()
embeddings = [doc['embedding'] for doc in results]
embeddings_array = np.array(embeddings)  # Shape: (1000, 768)

# 2. Apply K-Means clustering
kmeans = KMeans(n_clusters=3, random_state=42)
cluster_labels = kmeans.fit_predict(embeddings_array)

# 3. Add cluster labels back to Typesense as metadata
for i, doc in enumerate(results):
    client.collections['documents'].documents[doc['id']].update({
        'cluster_id': int(cluster_labels[i]),
        'cluster_name': get_cluster_name(cluster_labels[i])
    })

# 4. Now you can filter by cluster!
geography_docs = client.collections['documents'].documents.search({
    'q': '*',
    'filter_by': 'cluster_name:=Geography'
})</code></pre>
                        </div>

                        <div class="example-box" style="background: #e0e7ff; border-color: #6366f1; margin-top: 20px;">
                            <h4 style="margin-top: 0; color: #6366f1;">üéØ Clustering Use Cases</h4>
                            <ul style="line-height: 2; margin: 8px 0;">
                                <li><strong>Document Organization:</strong> Automatically categorize incoming documents</li>
                                <li><strong>Topic Discovery:</strong> Find hidden themes in large text corpora</li>
                                <li><strong>Duplicate Detection:</strong> Find near-duplicate content (cluster size = 1 item)</li>
                                <li><strong>User Segmentation:</strong> Group users by behavior/interests from embeddings</li>
                                <li><strong>Recommendation:</strong> "Users in your cluster also liked..."</li>
                                <li><strong>Anomaly Detection:</strong> Find outliers (far from any cluster center)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Slide 9: Semantic Search with LLMs -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>üîÆ Bringing It All Together: Semantic Search</h2>
                            <p class="slide-subtitle">How Typesense Enables LLM Applications</p>
                        </div>

                        <div class="architecture-diagram">
                            <strong style="font-size: 1.2em;">Complete Semantic Search Pipeline:</strong><br><br>

                            <div class="flow-step" style="background: rgba(239, 68, 68, 0.05); border-color: #ef4444;">
                                <strong>1. Content Ingestion</strong><br>
                                Raw text ‚Üí Chunk ‚Üí Embed (LLM) ‚Üí Store in Typesense with metadata
                            </div>

                            <div class="flow-step" style="background: rgba(245, 158, 11, 0.05); border-color: #f59e0b;">
                                <strong>2. User Query</strong><br>
                                Natural language question ‚Üí Embed (same LLM) ‚Üí Query vector
                            </div>

                            <div class="flow-step" style="background: rgba(16, 185, 129, 0.05); border-color: #10b981;">
                                <strong>3. Hybrid Search in Typesense</strong><br>
                                Vector similarity + Keyword match + Metadata filters ‚Üí Top-K results
                            </div>

                            <div class="flow-step" style="background: rgba(37, 99, 235, 0.05); border-color: #2563eb;">
                                <strong>4. Context Retrieval</strong><br>
                                Return relevant chunks with metadata ‚Üí Feed to LLM as context
                            </div>

                            <div class="flow-step" style="background: rgba(139, 92, 246, 0.05); border-color: #8b5cf6;">
                                <strong>5. LLM Generation (RAG)</strong><br>
                                LLM uses retrieved context ‚Üí Generates accurate, grounded answer
                            </div>
                        </div>

                        <div class="highlight-box" style="margin-top: 24px;">
                            <h4 style="margin-top: 0; color: #6366f1;">üéØ Why Typesense for LLM Applications?</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 16px;">
                                <div>
                                    <strong style="color: #10b981;">‚úÖ Performance</strong>
                                    <ul style="line-height: 1.8; margin: 8px 0; font-size: 0.95em;">
                                        <li>Sub-50ms retrieval ‚Üí Real-time UX</li>
                                        <li>Handles millions of vectors</li>
                                        <li>In-memory index = lightning fast</li>
                                    </ul>
                                </div>
                                <div>
                                    <strong style="color: #10b981;">‚úÖ Flexibility</strong>
                                    <ul style="line-height: 1.8; margin: 8px 0; font-size: 0.95em;">
                                        <li>Hybrid search (keyword + semantic)</li>
                                        <li>Rich metadata filtering</li>
                                        <li>Typo tolerance built-in</li>
                                    </ul>
                                </div>
                                <div>
                                    <strong style="color: #10b981;">‚úÖ Simplicity</strong>
                                    <ul style="line-height: 1.8; margin: 8px 0; font-size: 0.95em;">
                                        <li>Single binary deployment</li>
                                        <li>RESTful API, easy integration</li>
                                        <li>No complex configuration</li>
                                    </ul>
                                </div>
                                <div>
                                    <strong style="color: #10b981;">‚úÖ Privacy & Control</strong>
                                    <ul style="line-height: 1.8; margin: 8px 0; font-size: 0.95em;">
                                        <li>Self-hosted (GDPR compliant)</li>
                                        <li>No data sent to third parties</li>
                                        <li>Full control over embeddings</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="code-example" style="margin-top: 24px;">
                            <pre class="line-numbers"><code class="language-python"># Complete RAG pipeline example
def semantic_search_rag(user_question: str):
    # Step 1: Embed user question
    question_embedding = embed_text(user_question)  # Using same LLM model

    # Step 2: Search Typesense (hybrid search)
    search_results = client.collections['documents'].documents.search({
        'q': user_question,
        'query_by': 'text',
        'vector_query': f'embedding:({question_embedding}, k:5, alpha:0.6)',
        'filter_by': 'language:=en'
    })

    # Step 3: Extract relevant context
    context = "\n\n".join([
        hit['document']['text']
        for hit in search_results['hits']
    ])

    # Step 4: Generate answer with LLM (RAG)
    prompt = f"""Based on the following context, answer the question.

Context:
{context}

Question: {user_question}

Answer:"""

    answer = llm.generate(prompt)
    return answer

# Usage
answer = semantic_search_rag("What is Puducherry known for?")
print(answer)
# Output: "Puducherry is known for its French colonial heritage..."</code></pre>
                        </div>
                    </div>
                </div>

                <!-- Slide 10: Key Takeaways -->
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-header">
                            <h2>üéì Key Takeaways</h2>
                            <p class="slide-subtitle">Mastering Typesense for Semantic Search</p>
                        </div>

                        <div class="comparison-grid" style="margin-top: 32px;">
                            <div class="comparison-card" style="border-color: #10b981; background: rgba(16, 185, 129, 0.05);">
                                <h4 style="color: #10b981;">‚úÖ What We Learned</h4>
                                <ul style="line-height: 2; margin: 8px 0; font-size: 0.95em;">
                                    <li>Typesense = Fast vector database</li>
                                    <li>Store text as embeddings (float[])</li>
                                    <li>Choose embedding model wisely</li>
                                    <li>Enrich with metadata for filtering</li>
                                    <li>Hybrid search > Pure vector</li>
                                    <li>Clustering enables organization</li>
                                    <li>Perfect for RAG applications</li>
                                </ul>
                            </div>

                            <div class="comparison-card" style="border-color: #2563eb; background: rgba(37, 99, 235, 0.05);">
                                <h4 style="color: #2563eb;">üöÄ Production Checklist</h4>
                                <ul style="line-height: 2; margin: 8px 0; font-size: 0.95em;">
                                    <li>‚úì Use consistent embedding model</li>
                                    <li>‚úì Add relevant metadata fields</li>
                                    <li>‚úì Enable hybrid search (alpha tuning)</li>
                                    <li>‚úì Set up monitoring & logging</li>
                                    <li>‚úì Implement caching layer</li>
                                    <li>‚úì Plan for reindexing strategy</li>
                                    <li>‚úì Test with real user queries</li>
                                </ul>
                            </div>
                        </div>

                        <div class="highlight-box" style="margin-top: 32px;">
                            <h4 style="margin-top: 0; color: #6366f1;">üí° The Typesense Advantage</h4>
                            <p style="line-height: 2; margin: 8px 0; font-size: 1.05em;">
                                Typesense makes building semantic search applications <strong>simple and fast</strong>:<br><br>

                                üéØ <strong>No PhD Required:</strong> Intuitive API, great documentation<br>
                                ‚ö° <strong>Production Performance:</strong> Sub-50ms search, scales to millions<br>
                                üîÄ <strong>Best of Both:</strong> Hybrid search gives precision + recall<br>
                                üèóÔ∏è <strong>Easy Integration:</strong> Works with any LLM/embedding model<br>
                                üîê <strong>Privacy First:</strong> Self-hosted, GDPR compliant, no vendor lock-in
                            </p>
                        </div>

                        <ul style="font-size: 1.125em; line-height: 2.2; margin-top: 40px;">
                            <li><strong>Embeddings unlock semantic understanding</strong> - Beyond keyword matching</li>
                            <li><strong>Metadata enhances retrieval precision</strong> - Filter + search = powerful queries</li>
                            <li><strong>Hybrid search is the sweet spot</strong> - Combine keyword and semantic</li>
                            <li><strong>Clustering reveals hidden structure</strong> - Automatic organization</li>
                            <li><strong>Typesense enables production RAG</strong> - Fast, reliable, scalable</li>
                        </ul>

                        <div style="text-align: center; margin-top: 56px;">
                            <a href="demo.html" style="text-decoration: none;">
                                <button class="action-btn" style="padding: 16px 32px; font-size: 1.125em; background: var(--primary);">
                                    üöÄ Try Interactive Demos
                                </button>
                            </a>
                            <a href="index.html" style="text-decoration: none; margin-left: 16px;">
                                <button class="action-btn" style="padding: 16px 32px; font-size: 1.125em;">
                                    ‚Üê Back to Home
                                </button>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Navigation Controls -->
        <div class="carousel-nav">
            <button id="prevBtn" onclick="prevSlide()">‚Üê Previous</button>

            <div class="nav-center">
                <div class="slide-indicators" id="slideIndicators"></div>
                <span class="slide-counter">
                    <span id="currentSlide">1</span> / <span id="totalSlides">10</span>
                </span>
            </div>

            <button id="nextBtn" onclick="nextSlide()">Next ‚Üí</button>
        </div>
    </div>

    <div class="keyboard-hint" id="keyboardHint">
        Use <kbd>‚Üê</kbd> <kbd>‚Üí</kbd> arrow keys to navigate
    </div>

    <script>
        // Carousel State
        let currentSlide = 0;
        const totalSlides = 10;
        const carouselWrapper = document.getElementById('carouselWrapper');
        const progressFill = document.getElementById('progressFill');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        function initCarousel() {
            updateSlide();
            createIndicators();
            setTimeout(() => {
                document.getElementById('keyboardHint').style.animation = 'fadeInOut 3s ease-in-out';
            }, 1000);
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                currentSlide++;
                updateSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                updateSlide();
            }
        }

        function goToSlide(index) {
            currentSlide = index;
            updateSlide();
        }

        function updateSlide() {
            const offset = -currentSlide * 100;
            carouselWrapper.style.transform = `translateX(${offset}%)`;

            const progress = ((currentSlide + 1) / totalSlides) * 100;
            progressFill.style.width = `${progress}%`;

            document.getElementById('currentSlide').textContent = currentSlide + 1;

            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === totalSlides - 1;

            updateIndicators();
        }

        function createIndicators() {
            const container = document.getElementById('slideIndicators');
            for (let i = 0; i < totalSlides; i++) {
                const indicator = document.createElement('div');
                indicator.className = 'slide-indicator';
                indicator.onclick = () => goToSlide(i);
                container.appendChild(indicator);
            }
            updateIndicators();
        }

        function updateIndicators() {
            const indicators = document.querySelectorAll('.slide-indicator');
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentSlide);
            });
        }

        // Keyboard Navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        // Initialize
        initCarousel();
    </script>

    <!-- Prism.js for code highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</body>
</html>
